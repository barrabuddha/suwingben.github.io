<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>JSON Sample</title>
  <link rel="stylesheet" href="//code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css">
  <script src="//code.jquery.com/jquery-1.9.1.js"></script>
  <script src="//code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
  <script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/md5.js"></script>

	</head>
<body>
<script>
$( "div.cageHawk" )
  .mouseover(function() {
      $( this ).find( "span" ).text( "Hawkeye");
  })
  .mouseout(function() {
    $( this ).find( "span" ).hide();
  });
</script>

<div id="dImages">
<div class="cageHawk" heigh="100" width="70"><span>Hawkeye</span><img src="https://c3409409.ssl.cf0.rackcdn.com/marvelheroes.vanillaforums.com/DQ56NEMREIWF.jpg" height="90" width="60" onClick="javascript:grabData('Hawkeye');"></div>

    <div id="placeholder">
	
	
	
	</div>


    <script>
function grabData(name)
{
	var name = name;
	var ts = $.now();
	var api_key= 'a5ad02819feafe2a24e116ff36d7d4a0'
	var priv_key= 'e57282add1f8d2ad4fe622949da16388f7ba3036'
	var url= 'http://gateway.marvel.com/v1/public/characters?name='+ name + '&apikey=a5ad02819feafe2a24e116ff36d7d4a0';
	var hash = CryptoJS.MD5(ts + priv_key + api_key);	
		
		url+= "&ts=" + ts + "&hash=" + hash;
		
		$.getJSON(url, function(data) {

	var output="<ul>";
		
		output+="<li>" + data.data.results[0].name+ "</li>";

   for (var i in data.data.results[0].comics.items) {
	
			output+="<li> Comic Appearance:" + data.data.results[0].comics.items[i].name + "</li>";
}	

uri = data.data.results[0].events.items;

   for (var i in uri) {
output+="<li> Event Appearance: " + uri[i].name+ "</li>";
}
	output+="</ul>";

	//alert(timestamp);
	//alert(api_key);
	//alert(hash);
	//var pagevar = uri.split('/');
	//alert(page[page.length-1]);

	document.getElementById("placeholder").innerHTML=output;
	
  $(function() {
    $( "#placeholder" ).dialog();
  });	
	
	//document.getElementById("image").innerHTML=profile;
	});
}
	
	
	
	</script>
	</body>
