<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>JSON Sample</title>
  <link rel="stylesheet" href="//code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css">
  <script src="//code.jquery.com/jquery-1.9.1.js"></script>
  <script src="//code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
  <script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/md5.js"></script>

	</head>
<body>
<script>
$( "div.cageHawk" )
  .mouseover(function() {
      $( this ).find( "span" ).text( "Hawkeye");
  })
  .mouseout(function() {
    $( this ).find( "span" ).hide();
  });
</script>

<div id="dImages">
<div class="cageHawk" width="100" height="77"><span>Hawkeye</span><img src="https://c3409409.ssl.cf0.rackcdn.com/marvelheroes.vanillaforums.com/DQ56NEMREIWF.jpg" height="67" width="90" onClick="javascript:grabData('Hawkeye');"></div>

    <div id="placeholder">
		<div id="herocomics"></div>
		<div id="heroevents"</div>

	</div>
			<div id="heronames"></div>



    <script>
function grabData(name)
{
	var name = name;
	var ts = $.now();
	var api_key= 'a5ad02819feafe2a24e116ff36d7d4a0'
	var priv_key= 'e57282add1f8d2ad4fe622949da16388f7ba3036'
	var url= 'http://gateway.marvel.com/v1/public/characters?name='+ name + '&apikey=a5ad02819feafe2a24e116ff36d7d4a0';
	var hash = CryptoJS.MD5(ts + priv_key + api_key);	

		url+= "&ts=" + ts + "&hash=" + hash;

		$.getJSON(url, function(data) {

	//var output="<h2>testing!</h2>";

		var output="<h3>" + data.data.results[0].name+ "</h3>";

   for (var i in data.data.results[0].comics.items) {

			var comiclist="Comic Appearances:" + data.data.results[0].comics.items[i].name;
}	

uri = data.data.results[0].events.items;

   for (var i in uri) {
var eventlist="<h3>Event Appearances:</h3>" + uri[i].name+ "</li>";
}
	//output+="</ul>";

	//alert(timestamp);
	//alert(api_key);
	//alert(hash);
	//var pagevar = uri.split('/');
	//alert(page[page.length-1]);

	document.getElementById("placeholder").innerHTML=output;
	document.getElementById("heronames").innerHTML=heroname;
	document.getElementById("herocomics").innerHTML=comiclist;
//	document.getElementById("Event").innerHTML=eventlist;


//  $(function() {
//    $( "#placeholder" ).dialog();
//  });	

	//document.getElementById("image").innerHTML=profile;
	});
}



	</script>
	</body>
